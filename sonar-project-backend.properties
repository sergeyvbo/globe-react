# SonarQube Configuration for GeoQuiz Backend
# C#/.NET project configuration

# Project identification
sonar.projectKey=geoquiz-backend
sonar.projectName=GeoQuiz Backend
sonar.projectVersion=1.0.0

# Source code configuration
sonar.sources=backend/GeoQuizApi/Controllers,backend/GeoQuizApi/Services,backend/GeoQuizApi/Models,backend/GeoQuizApi/Data,backend/GeoQuizApi/Middleware,backend/GeoQuizApi/Configuration,backend/GeoQuizApi/Program.cs
sonar.sourceEncoding=UTF-8
sonar.projectBaseDir=.

# Language-specific settings for C#
sonar.cs.opencover.reportsPaths=backend/coverage.opencover.xml
sonar.cs.vstest.reportsPaths=backend/TestResults/*.trx

# Exclusions - files and directories to skip during analysis
sonar.exclusions=**/bin/**,\
                 **/obj/**,\
                 **/*.Tests/**,\
                 **/TestResults/**,\
                 **/logs/**,\
                 **/*.db,\
                 **/*.db-*,\
                 **/Migrations/**,\
                 **/*.Designer.cs,\
                 **/Properties/AssemblyInfo.cs,\
                 **/.dockerignore,\
                 **/Dockerfile,\
                 **/*.http,\
                 **/*.ps1,\
                 **/*.md,\
                 **/*.example,\
                 **/appsettings*.json,\
                 **/Properties/launchSettings.json

# Test-related exclusions
sonar.test.exclusions=**/*.Tests/**,\
                      **/TestResults/**,\
                      **/*Test.cs,\
                      **/*Tests.cs,\
                      **/TestUtilities/**

# Coverage exclusions (files that should not be included in coverage metrics)
sonar.coverage.exclusions=**/Program.cs,\
                          **/Migrations/**,\
                          **/*.Designer.cs,\
                          **/Properties/**,\
                          **/*.Tests/**,\
                          **/TestUtilities/**,\
                          **/*Test.cs,\
                          **/*Tests.cs

# Additional C#/.NET specific settings
sonar.dotnet.excludeTestProjects=true

# Force language detection for C# files
sonar.lang.patterns.cs=**/*.cs

# Include C# files explicitly
sonar.inclusions=**/*.cs