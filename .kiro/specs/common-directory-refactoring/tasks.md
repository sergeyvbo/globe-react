# План реализации рефакторинга директории Common

- [x] 1. Создание структуры новых директорий





  - Создать поддиректории Auth, UserProfile, GameProgress, Session в src/Common
  - Создать индексные файлы для каждой поддиректории
  - _Требования: 1.1, 1.2, 1.3, 1.4, 1.5, 4.1_

- [x] 2. Перемещение файлов модуля аутентификации





  - Переместить AuthContext.tsx, AuthService.ts, OAuth2Service.ts в Auth/
  - Переместить AuthModal.tsx, ProtectedRoute.tsx в Auth/
  - Переместить OAuth2CallbackHandler.tsx, useOAuth2.ts в Auth/
  - Переместить соответствующие тестовые файлы в Auth/
  - _Требования: 1.2, 2.1_

- [x] 3. Создание публичного API для модуля Auth





  - Создать Auth/index.ts с экспортом всех публичных интерфейсов
  - Обновить внутренние импорты в файлах модуля Auth
  - _Требования: 4.1, 4.2, 4.3_

- [x] 4. Перемещение файлов модуля профиля пользователя































  - Переместить UserProfile.tsx в UserProfile/
  - Переместить UserProfile.test.tsx в UserProfile/
  - Создать UserProfile/index.ts с экспортом компонента
  - _Требования: 1.5, 2.1, 4.1_

- [ ] 5. Перемещение файлов модуля прогресса игр
  - Переместить GameProgressService.ts в GameProgress/
  - Переместить GameProgressService.test.ts в GameProgress/
  - Создать GameProgress/index.ts с экспортом сервиса
  - _Требования: 1.4, 2.1, 4.1_

- [ ] 6. Перемещение файлов модуля сессий
  - Переместить SessionDemo.tsx в Session/
  - Переместить SessionManagement.test.tsx в Session/
  - Создать Session/index.ts с экспортом компонентов
  - _Требования: 1.3, 2.1, 4.1_

- [ ] 7. Обновление импортов в основных файлах приложения
  - Обновить импорты в App.tsx для новых путей модулей
  - Обновить импорты в MainMenu/MainMenu.tsx
  - Обновить импорты в CountryQuiz/CountryQuiz.tsx
  - _Требования: 2.1, 2.2_

- [ ] 8. Обновление импортов в файлах викторин
  - Обновить импорты в FlagQuiz/FlagQuiz.tsx
  - Обновить импорты в StateQuiz/StateQuiz.tsx
  - Обновить импорты в CountryQuiz/CountryQuiz.test.tsx
  - _Требования: 2.1, 2.2_

- [ ] 9. Создание временного файла обратной совместимости
  - Создать src/Common/index.ts с реэкспортами всех модулей
  - Добавить комментарии о временном характере файла
  - _Требования: 2.1, 2.2_

- [ ] 10. Проверка и исправление внутренних зависимостей
  - Проверить импорты между файлами внутри каждого модуля
  - Исправить относительные пути импорта в модулях
  - Обновить импорты общих типов и утилит
  - _Требования: 2.1, 3.1, 3.2, 3.3_

- [ ] 11. Запуск тестов и проверка компиляции
  - Выполнить компиляцию TypeScript для проверки ошибок
  - Запустить все существующие тесты
  - Исправить найденные ошибки импорта
  - _Требования: 2.2, 2.3_

- [ ] 12. Очистка и финальная проверка
  - Удалить неиспользуемые файлы из корня Common (если есть)
  - Проверить, что все файлы перемещены корректно
  - Убедиться, что GeoData и LOD директории не затронуты
  - _Требования: 5.1, 5.2_